<!DOCTYPE html>
<html>
<head>
	<title>Clervtap Test</title>


<!--<script type="text/javascript">
     var clevertap = {event:[], profile:[], account:[], onUserLogin:[], notifications:[]};
 // replace with the CLEVERTAP_ACCOUNT_ID with the actual ACCOUNT ID value from your Dashboard -> Settings page
 clevertap.account.push({"id": "7Z4-6ZZ-5W5Z"});
 (function () {
		 var wzrk = document.createElement('script');
		 wzrk.type = 'text/javascript';
		 wzrk.async = true;
		 wzrk.src = ('https:' == document.location.protocol ? 'https://d2r1yp2w7bby2u.cloudfront.net' : 'http://static.clevertap.com') + '/js/a.js';
		 var s = document.getElementsByTagName('script')[0];
		 s.parentNode.insertBefore(wzrk, s);
  })();
</script>
	-->
<script src="https://code.jquery.com/jquery-1.11.0.min.js"></script>
<!-- <script type="text/javascript">
(function() {
  var didInit = false;
  function initMunchkin() {
    if(didInit === false) {
      didInit = true;
      Munchkin.init('334-FDS-156');
    }
  }
  var s = document.createElement('script');
  s.type = 'text/javascript';
  s.async = true;
  s.src = '//munchkin.marketo.net/munchkin.js';
  s.onreadystatechange = function() {
    if (this.readyState == 'complete' || this.readyState == 'loaded') {
      initMunchkin();
    }
  };
  s.onload = initMunchkin;
  document.getElementsByTagName('head')[0].appendChild(s);
})();
</script> -->


</head>
<body>
<div class="container-fluid">
	<div class="row">
		<div class="col-md-12">
			<div class="jumbotron card card-block">
				<h2>
					Hello, User!
				</h2>
				<p>
					This sample website to push a lead into marketo. Enter the API token, lead name and email.
				</p>
				<p>
					<a class="btn btn-primary btn-large" href="#">Learn more</a>
				</p>
			</div>
			<form role="form" class="form-inline">
				<div class="form-group">
					 
					<label for="exampleInputEmail1">
						Email address
					</label>
					<input type="email" class="form-control" id="exampleInputEmail1" />
				</div>
				<div class="form-group">
					 
					<label for="exampleInputPassword1">
						Token
					</label>
					<input type="password" class="form-control" id="exampleInputPassword1" />
				</div>
				<div class="form-group">
					 
					<label for="exampleInputName1">
						Name
					</label>
					<input type="name" class="form-control" id="exampleInputName1" />
				</div>
				
				
				
				<button type="submit" class="btn btn-primary" id="submitFormBtn">
					Submit
				</button>
			</form>
		</div>
	</div>
</div>

<script>
	
	$("#submitFormBtn").on("click",function(){
			var token = document.getElementById("exampleInputPassword1").value;
			var name = document.getElementById("exampleInputName1").value;
		        var email = document.getElementById("exampleInputEmail1").value;
			
			xmlhttp = new XMLHttpRequest();
			

			var url = "https://334-FDS-156.mktorest.com/rest/v1/leads.json?access_token=" +token ;
			xmlhttp.open("POST", url, true);
			xmlhttp.setRequestHeader("Content-type", "application/json");
					var params = {  
			   "action":"createOnly",
			   "lookupField":"email",
			   "input":[  
			      {  
				 "email": email,
				 "firstName": name,
				 "postalCode":"400064"
			      }
			   ]
			}

			xmlhttp.onreadystatechange = function () { //Call a function when the state changes.
			    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
				alert(xmlhttp.responseText);
			    }
			}
			xmlhttp.send(JSON.stringify(params));
			
		});	
	

</script>


</body>



</html>
